@model List<HomeworkResponse>

@{
    ViewData["Title"] = "Tareas por realizar";
}

@(await Component.InvokeAsync("Menu"))

<a asp-action="Create">Agregar tarea</a>

@if (Model.Count == 0)
{
    <div>
        <p>No tienes ninguna tarea pendiente</p>
    </div>
}

@foreach (var homework in Model)
{
    string day = homework.FechaLimite.Day < 10? "0" + homework.FechaLimite.Day: homework.FechaLimite.Day.ToString();
    string month = homework.FechaLimite.Month < 10? "0" + homework.FechaLimite.Month: homework.FechaLimite.Month.ToString();
    
    <div class="homework-card">
        <p>@homework.Materia</p>
        <h3>@homework.Nombre</h3>
        <p>@day - @month - @homework.FechaLimite.Year</p>
        <a asp-action="CompleteHomework" asp-route-id=@homework.IdTarea>Marcar como completada</a>
        <a asp-action="Details" asp-route-id=@homework.IdTarea>Ver detalles</a>
    </div>
}